<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>task_2</title>
	<style>
		body {
			background-color: #14171F;
			color: #cac6c6;
			max-width: 1200px;
			margin: 0 auto;
		}

		p {
			font-size: 20px;
		}

		li {
			font-size: 18px;
		}

		h1 {
			text-align: center;
			margin-bottom: 40px;
		}
	</style>
</head>

<body>
	<h1>Задача_2</h1>
	<p>Дано інформацію про прибуток К магазинів протягом тижня. Знайти :</p>
	<ol>
		<li>загальний прибуток кожного масиву за тиждень;</li>
		<li>загальний прибуток усіх магазинів по дням (загальний прибуток усіх магазинів за понеділок, за вівторок, і т.д.);</li>
		<li>загальний прибуток за робочі дні</li>
		<li>загальний прибуток за вихідні дні</li>
		<li>максимальний прибуток за середу</li>
		<li>сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200</li>
		<li>відсортувати кожен тиждень за зростанням</li>
		<li>відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку), тобто при порівнянні рядків потрібно порівнювати максимальні елементи у кожному з цих рядків</li>
		<li>упорядкувати тижні (рядки) за спаданням суми елементів у рядку (тобто при порівнянні двох рядків треба знайти суму кожного з рядків і порівнювати ці суми, на основі цих сум буде зрозуміло, який з елементів повинен іти раніше).</li>
	</ol>
	<script>

		//========================================================================================================================================================
		let storesQuantity = parseInt(prompt('Веведіть кількість магазинів: ', '4'))
		const minSum = 100
		const maxSum = 500
		const daysPerWeek = 7

		// Генеруємо рандомну суму прибутку
		function getRandomSum(minSum, maxSum) {
			return minSum + Math.floor(Math.random() * (maxSum - minSum + 1))
		}

		// Генеруємо прибуток за тиждень одного магазину
		function generateRandomArray(minSum, maxSum, daysPerWeek) {
			let arr = []
			for (let i = 1; i <= daysPerWeek; i++) {
				let randomSumPerDay = getRandomSum(minSum, maxSum)
				arr.push(randomSumPerDay)
			}
			return arr
		}

		// Генеруємо загальний масив з усіма магазинами
		function generateGeneralArray(storesQuantity, minSum, maxSum, daysPerWeek) {
			let generalArr = []
			for (let i = 0; i < storesQuantity; i++) {
				let randomSumPerStore = generateRandomArray(minSum, maxSum, daysPerWeek)
				generalArr.push(randomSumPerStore)
			}
			return generalArr
		}

		let profitAllStores = generateGeneralArray(storesQuantity, minSum, maxSum, daysPerWeek)

		//========================================================================================================================================================
		// 1.1 --> загальний прибуток кожного масиву за тиждень
		//========================================================================================================================================================
		for (let rowIndex = 0; rowIndex < profitAllStores.length; rowIndex++) {
			let sumPerShop = 0
			for (columnIndex = 0; columnIndex < profitAllStores[rowIndex].length; columnIndex++) {
				sumPerShop += profitAllStores[rowIndex][columnIndex]
			}
			document.write(`Загальний прибуток ${rowIndex + 1} магазину за тиждень = ${sumPerShop}<br>`)
		}
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.2 --> загальний прибуток усіх магазинів по дням (загальний прибуток усіх магазинів за понеділок, за вівторок, і т.д.)
		//========================================================================================================================================================
		for (let columnIndex = 0; columnIndex < daysPerWeek; columnIndex++) {
			let sumPerDay = 0
			for (let rowIndex = 0; rowIndex < profitAllStores.length; rowIndex++) {
				sumPerDay += profitAllStores[rowIndex][columnIndex]
			}
			document.write(`Загальний прибуток магазинів по дням : ${columnIndex + 1} день = ${sumPerDay}<br>`)
		}
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.3 --> загальний прибуток за робочі дні
		//========================================================================================================================================================
		for (let rowIndex = 0; rowIndex < profitAllStores.length; rowIndex++) {
			let sumPerWorkDays = 0
			for (columnIndex = 0; columnIndex < 5; columnIndex++) {
				sumPerWorkDays += profitAllStores[rowIndex][columnIndex]
			}
			document.write(`Загальний прибуток ${rowIndex + 1} магазину за робочі дні = ${sumPerWorkDays}<br>`)
		}
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.4 --> загальний прибуток за вихідні дні
		//========================================================================================================================================================
		for (let rowIndex = 0; rowIndex < profitAllStores.length; rowIndex++) {
			let sumPerWeekend = 0
			for (columnIndex = 5; columnIndex < profitAllStores[rowIndex].length; columnIndex++) {
				sumPerWeekend += profitAllStores[rowIndex][columnIndex]
			}
			document.write(`Загальний прибуток ${rowIndex + 1} магазину за вихідні дні = ${sumPerWeekend}<br>`)
		}
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.5 --> максимальний прибуток за середу
		//========================================================================================================================================================	
		let maxProfitPerWednesday = 0	
		for (let rowIndex = 0; rowIndex < profitAllStores.length; rowIndex++) {
			if(profitAllStores[rowIndex][2] > maxProfitPerWednesday) {
				maxProfitPerWednesday = profitAllStores[rowIndex][2]
			} 
		}
		document.write(`Максимальний прибуток за середу = ${maxProfitPerWednesday}<br>`)
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.6--> сформувати загальний список (одновимірний масив) зі значенням, які що більші за 200
		//========================================================================================================================================================
		let moreThanTwoHundred = []
		for (const rowIndex of profitAllStores) {
			for (const columnIndex of rowIndex) {
				if (columnIndex > 200) {
					moreThanTwoHundred.push(columnIndex)
				}
			}
		}
		document.write(`Прибуток більше за 200 = ${moreThanTwoHundred}<br>`)
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.7--> відсортувати кожен тиждень за зростанням
		//========================================================================================================================================================
		for (const rowIndex of profitAllStores) {
			rowIndex.sort(
				(value1, value2) => value1 - value2
			)
		}
		document.write(`Кожен тиждень за зростанням прибутку = ${profitAllStores}<br>`)
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.8--> відсортувати тижні (рядки) за спаданням максимального елементи у цьому тижні (рядку),
		//     		тобто при порівнянні рядків потрібно порівнювати максимальні елементи у кожному з цих рядків
		//========================================================================================================================================================
		profitAllStores.sort(
			(arr1, arr2) => {
				let maxNumArr1 = Math.max(...arr1)
				let maxNumArr2 = Math.max(...arr2)
				return maxNumArr2 - maxNumArr1
			}
		)
		document.write(`Тижні (рядки) за спаданням максимального елементи у цьому тижні = ${profitAllStores}<br>`)
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
		// 1.9--> упорядкувати тижні (рядки) за спаданням суми елементів у рядку
		//         (тобто при порівнянні двох рядків треба знайти суму кожного з рядків і порівнювати ці суми, на 	основі цих сум буде зрозуміло,
		//           який з елементів повинен іти раніше).
		//========================================================================================================================================================
		profitAllStores.sort(
			(arr1, arr2) => {
				let sumNumArr1 = arr1.reduce(
					(prevValue, value) => prevValue + value,
					0
				)
				let sumNumArr2 = arr2.reduce(
					(prevValue, value) => prevValue + value,
					0
				)
				return sumNumArr2 - sumNumArr1
			}
		)
		document.write(`Тижні (рядки) за спаданням суми елементів у рядку = ${profitAllStores}<br>`)
		document.write(`===============================================<br>`)
		//========================================================================================================================================================
	</script>
</body>

</html>