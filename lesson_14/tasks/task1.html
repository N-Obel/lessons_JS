<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>task_1</title>
	<style>
		body {
			background-color: #14171F;
			color: #cac6c6;
			max-width: 1200px;
			margin: 0 auto;
		}

		p {
			font-size: 20px;
		}

		li {
			font-size: 18px;
		}

		h1 {
			text-align: center;
			margin-bottom: 40px;
		}
	</style>
</head>

<body>
	<h1>Задача_1</h1>
	<p>Описати масив об’єктів – сайтів розроблених компанією з такими властивостями</p>
	<ul>
		<li>назва компанії на час розробки (назву періодично змінюють)</li>
		<li>власник компанії</li>
		<li>спонсори (масив спонсорів)</li>
		<li>рік випуску</li>
		<li>вартість сайту</li>
	</ul>
	<p>Знайти:</p>
	<ol>
		<li>загальну вартість усіх сайтів</li>
		<li>кількість сайтів, що було зроблено між 2000 та 2009 рр.</li>
		<li>кількість сайтів, де сума спонсорських вкладень була більшою за 100000</li>
		<li>створити загальний список усіх спонсорів (поки можуть повторюватись, просто зібрати усі у масив)</li>
		<li>знайти рік, коли прибуток був найбільшим</li>
		<li>упорядкувати список за спаданням прибутку</li>
		<li>Створити 2 окремих списки з копіями об’єктів, що містять сайти з вартість до 10000 і більше 10000</li>
	</ol>
	<script>
		//========================================================================================================================================================
		let websites = [
			{
				companyName: 'ABC corp.',
				owner: 'Bob Dylan',
				sponsors: [
					{
						sponsorsSurname: 'Hakimi',
						sponsorsName: 'Shmakimi',
						sponsorsInvest: 100000
					},
					{
						sponsorsSurname: 'Omar',
						sponsorsName: 'Hayam',
						sponsorsInvest: 30000
					},
					{
						sponsorsSurname: 'Pacquiao',
						sponsorsName: 'Manny',
						sponsorsInvest: 150000
					}
				],
				releaseYear: 2005,
				siteCost: 200000
			},
			{
				companyName: 'DEF corp.',
				owner: 'Alice Cooper',
				sponsors: [
					{
						sponsorsSurname: 'Tawi',
						sponsorsName: 'Riki-tiki',
						sponsorsInvest: 30000
					},
					{
						sponsorsSurname: 'Ben',
						sponsorsName: 'Shmen',
						sponsorsInvest: 117000
					},
					{
						sponsorsSurname: 'Dylan',
						sponsorsName: 'Bob',
						sponsorsInvest: 90000
					}
				],
				releaseYear: 2010,
				siteCost: 50000
			},
			{
				companyName: 'GHI corp.',
				owner: 'Axl Rose',
				sponsors: [
					{
						sponsorsSurname: 'Moore',
						sponsorsName: 'Shmoore',
						sponsorsInvest: 10000
					},
					{
						sponsorsSurname: 'Kimi',
						sponsorsName: 'Misi',
						sponsorsInvest: 137000
					},
					{
						sponsorsSurname: 'Drago',
						sponsorsName: 'Gago',
						sponsorsInvest: 50000
					}
				],
				releaseYear: 2012,
				siteCost: 20000
			},
			{
				companyName: 'JKL corp.',
				owner: 'Brian Johnson',
				sponsors: [
					{
						sponsorsSurname: 'Kimi',
						sponsorsName: 'Timi',
						sponsorsInvest: 7000
					},
					{
						sponsorsSurname: 'Kimi',
						sponsorsName: 'Misi',
						sponsorsInvest: 37500
					},
					{
						sponsorsSurname: 'Erko',
						sponsorsName: 'Leko',
						sponsorsInvest: 55000
					}
				],
				releaseYear: 2007,
				siteCost: 250000
			}
		]
		//========================================================================================================================================================
		// 1.1 --> загальну вартість усіх сайтів
		//========================================================================================================================================================
		document.write(`=========================================================================================== <br>`)
		let totalSitesCost = websites.reduce(
			(prevCost, cost) => prevCost + cost.siteCost,
			0
		)
		document.write(`Загальна вартість усіх сайтів = ${totalSitesCost}<br>`)
		//========================================================================================================================================================
		// 1.2 --> кількість сайтів, що було зроблено між 2000 та 2009 рр.
		//========================================================================================================================================================
		document.write(`=========================================================================================== <br>`)
		let siteCreate = websites.reduce(
			(prevSite, site) => site.releaseYear >= 2000 && site.releaseYear <= 2009 ? prevSite + 1 : prevSite,
			0
		)
		document.write(`Кількість сайтів, що було зроблено між 2000 та 2009 рр = ${siteCreate}<br>`)
		//========================================================================================================================================================
		// 1.3 --> кількість сайтів, де сума спонсорських вкладень була більшою за 100000
		//========================================================================================================================================================
		document.write(`=========================================================================================== <br>`)
		let sponsorsInvestSum = websites.reduce(
			(prevSite, site) => {
				return site.sponsors.reduce(
					(prevSponsorInvest, sponsor) => (prevSponsorInvest + sponsor.sponsorsInvest), 0) > 100000 ? prevSite + 1 : prevSite
			}, 0
		)
		document.write(`Кількість сайтів, де сума спонсорських вкладень була більшою за 100000 = ${sponsorsInvestSum}<br>`)
		//========================================================================================================================================================
		// 1.4 --> створити загальний список усіх спонсорів (поки можуть повторюватись, просто зібрати усі у масив)
		//========================================================================================================================================================
		document.write(`=========================================================================================== <br>`)
		let generalArr = []
		for (const site of websites) {
			for (const sponsorArr of site.sponsors) {
				generalArr.push(` ${sponsorArr.sponsorsName} ${sponsorArr.sponsorsSurname}`)
			}
		}
		document.write(`${generalArr}<br>`)
		//========================================================================================================================================================
		// 1.5 --> знайти рік, коли прибуток був найбільшим
		//========================================================================================================================================================
		document.write(`=========================================================================================== <br>`)
		let max = -Infinity
		let year = 0
		websites.find(
			(site) => {
				if (site.siteCost > max) {
					max = site.siteCost
					year = site.releaseYear
				}
			}
		)
		document.write(`Рік, коли прибуток був найбільшим - ${year}<br>`)
		//========================================================================================================================================================
		// 1.6 --> упорядкувати список за спаданням прибутку
		//========================================================================================================================================================
		document.write(`===================== console.log() ============================================= <br>`)
		websites.sort(
			(obj1, obj2) => {
				if (obj1.siteCost > obj2.siteCost) return -1
				if (obj1.siteCost < obj2.siteCost) return 1
				else return 0
			}
		)
		console.log(websites)
		//========================================================================================================================================================
		// 1.7 --> створити 2 окремих списки з копіями об’єктів, що містять сайти з вартість до 10000 і більше 10000
		//========================================================================================================================================================
		document.write(`===================== console.log() ============================================= <br>`)
		let arrLessThanThousand = []
		let arrMoreThanThousand = []
		for (const site of websites) {
			if (site.siteCost > 100000) arrMoreThanThousand.push(site)
			else arrLessThanThousand.push(site)
		}
		console.log(arrLessThanThousand);
		console.log(arrMoreThanThousand);
		//========================================================================================================================================================

	</script>
</body>

</html>