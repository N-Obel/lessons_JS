<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>task_0</title>
	<style>
		body {
			background-color: #14171F;
			color: #cac6c6;
			max-width: 1200px;
			margin: 0 auto;
		}

		p {
			font-size: 20px;
		}

		li {
			font-size: 18px;
		}

		h1 {
			text-align: center;
			margin-bottom: 40px;
		}
	</style>
</head>

<body>
	<h1>Задача_0</h1>
	<p>Дано історію цін на цінні папери за деякий період (згенерувати від 1 до 10000)</p>
	<script>

		// ------------------------------------------------------------- //
		let somePeriod = parseInt(prompt('Введіть період: ', '10'))
		const minValue = 1
		const maxValue = 10000
		const defaultValue = 1000
		// ------------------------------------------------------------- //
		function getRandomNum(minValue, maxValue) {
			return minValue + Math.floor(Math.random() * (maxValue - minValue + 1))
		}
		// ------------------------------------------------------------- //
		let pricesArr = []
		for (let i = 0; i < somePeriod; i++) {
			pricesArr.push(getRandomNum(minValue, maxValue))
		}

		document.write(`Історія цін на цінні папери - ${pricesArr} - за період ${somePeriod}<br>`)
		//========================================================================================================================================================
		// Задача_1 --> Сформувати новий масив, у якому є тільки ті, що більші за 1000 грн.
		//========================================================================================================================================================
		let moreThanThousandArr = pricesArr.filter(
			(value) => value > defaultValue
		)
		document.write(`Новий масив, у якому є тільки ті, що більші за 1000 грн. - ${moreThanThousandArr}<br>`)
		//========================================================================================================================================================
		// Задача_2 --> Сформувати новий масив, у якому є номери тільки тих, що більші за 1000 грн.
		//========================================================================================================================================================
		let moreThanThousandIndexArr = pricesArr.reduce(
			(prevIndexValue, value, index, arr) => {
				if(value > defaultValue) prevIndexValue.push(index)
				return prevIndexValue
			},
			[]
		)
		document.write(`Новий масив, у якому є номери тільки тих, що більші за 1000 грн. - ${moreThanThousandIndexArr}<br>`)
		//========================================================================================================================================================
		// Задача_3 --> Сформувати список з тих цін, які більші за попереднє значення
		//========================================================================================================================================================
		let moreThanPrevValue = pricesArr.filter(
			(value, index, arr) => index > 0 && value > arr[index - 1]
		)
		document.write(`${moreThanPrevValue}`)
		//========================================================================================================================================================
		// Задача_4 --> Сформувати новий масив, що міститиме значення цін у відсотках стосовно максимального 
		//========================================================================================================================================================
		let maxValueOfArr = Math.max(...pricesArr)
		let percentArr = pricesArr.map(
			(value) => Math.floor(value * 100 / maxValueOfArr)
		)
		document.write(`Новий масив, що міститить значення цін у відсотках ${percentArr} стосовно максимального ${maxValueOfArr}<br>`)
		//========================================================================================================================================================
		// Задача_5 --> Підрахувати кількість змін цін
		//========================================================================================================================================================
		let pricesChange = pricesArr.reduce(
			(prevValue, value, index, arr) =>
				index > 0 && value !== arr[index - 1] ? prevValue + 1 : prevValue,
			0
		)
		document.write(`Кількість змін цін - ${pricesChange}<br>`)
		//========================================================================================================================================================
		// Задача_6 --> Визначити, чи є ціна, що менше 1000
		//========================================================================================================================================================
		if (pricesArr.some((value) => value < defaultValue)) {
			document.write(`Так, є ціна менше за ${defaultValue}<br>`)
		} else (document.write(`Ні, немає ціни менше за ${defaultValue}<br>`))
		//========================================================================================================================================================
		// Задача_7 --> Визначати, чи усі ціни більше за 1000
		//========================================================================================================================================================
		if (pricesArr.every((value) => value > defaultValue)) {
			document.write(`Так, всі ціни більше за ${defaultValue}<br>`)
		} else (document.write(`Ні, не всі ціни менше за ${defaultValue}<br>`))
		//========================================================================================================================================================
		// Задача_8 --> Підрахувати кількість цін, що більше за 1000
		//========================================================================================================================================================
		let countMoreThanThousand = pricesArr.reduce(
			(prevValue, value) => 
			value > defaultValue ? prevValue + 1 : prevValue,
			0
		)
		document.write(`Кількість цін, що більше за 1000 - ${countMoreThanThousand}<br>`)
		//========================================================================================================================================================
		// Задача_9 --> Підрахувати суму цін, що більше за 1000
		//========================================================================================================================================================
		let sumPricesMoreThanThousand = pricesArr.reduce(
			(prevValue, value, index, arr) =>
				value > defaultValue ? prevValue + value : prevValue,
			0
		)
		document.write(`Сума цін, що більше за 1000 - ${sumPricesMoreThanThousand}<br>`)
		//========================================================================================================================================================
		// Задача_10 --> Знайти першу ціну, що більше за 1000
		//========================================================================================================================================================
		let firstPriceMoreThanThousand = pricesArr.find(
			(value) => value > defaultValue
		)
		document.write(`Перша ціна, що більше за 1000 - ${firstPriceMoreThanThousand}<br>`)
		//========================================================================================================================================================
		// Задача_11 --> Знайти індекс першої ціни, що більше за 1000
		//========================================================================================================================================================
		let firstPriceMoreThanThousandIndex = pricesArr.findIndex(
			(value) => value > defaultValue
		)
		document.write(`Індекс першої ціни, що більше за 1000 - ${firstPriceMoreThanThousandIndex}<br>`)
		//========================================================================================================================================================
		// Задача_12 --> Знайти останню ціну, що більше за 1000
		//========================================================================================================================================================
		let lastPriceMoreThanThousand = pricesArr.findLast(
			(value) => value > defaultValue
		)
		document.write(`Остання ціна, що більше за 1000 - ${lastPriceMoreThanThousand}<br>`)
		//========================================================================================================================================================
		// Задача_13 --> Знайти індекс останньої ціни, що більше за 1000
		//========================================================================================================================================================
		let lastPriceMoreThanThousandIndex = pricesArr.findLastIndex(
			(value) => value > defaultValue
		)
		document.write(`Індекс останньої ціни, що більше за 1000 - ${lastPriceMoreThanThousandIndex}<br>`)
		//========================================================================================================================================================
		
	</script>
</body>

</html>